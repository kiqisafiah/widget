<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Statistik Kunjungan</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KS6811L339"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-KS6811L339');
    </script>
        
        <link rel="stylesheet" href="styles.css"> 
    </head>
    <body>

    <div class="icon" id="infoIcon" onclick="toggleWidget()">
        <img src="blangkon_2.png" alt="Icon" class="icon-image">
    </div>
    <div class="widget" id="infoWidget">
        <div class="close-btn" onclick="closeWidget()">
            <span>X</span>
        </div>
        <div class="widget-header">
            STATISTIKA KUNJUNGAN
           <br><p class="widget-description">Perhitungan jumlah kunjungan website</p>
        </div>

        <div class="widget-header">
            <img src="user.png" alt="User Icon" class="user-icon">
            <p class="widget-description">Total visitor</p>
            <p class="widget-description-dua" id="totalVisitorCount">0</p>
            <p><strong id="totalVisitor">ðŸŸ¢ Online: 0</strong></p>
        </div>
    
        <div class="widget-header">
            <img src="diagram.webp" alt="User Icon" class="user-icon">
            <p class="widget-description">Total view</p>
            <p class="widget-description-dua" id="totalViewCount">0</p>  
        </div>
        
        
    </div>

    <script src="script.js"></script> 

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KS6811L339"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-KS6811L339');

        // Misalnya, fungsi untuk mengambil data dari Google Analytics
        async function fetchAnalyticsData() {
            try {
                const response = await fetch('URL_API_GOOGLE_ANALYTICS'); // Ganti dengan URL API yang sesuai
                const data = await response.json();

                // Update elemen dengan data yang diambil
                document.getElementById('totalVisitorCount').innerText = data.totalVisitors; // Sesuaikan dengan struktur data
                document.getElementById('totalViewCount').innerText = data.totalViews; // Sesuaikan dengan struktur data
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Panggil fungsi untuk mengambil data saat halaman dimuat
        window.onload = fetchAnalyticsData;
    </script>

    
</body>
</html>